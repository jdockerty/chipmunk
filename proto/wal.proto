syntax = "proto3";

package chipmunk.wal_proto;

enum EntryType {
    INSERT = 0;
    DELETE = 1;
}

message Insert {
    bytes key = 1;
    bytes value = 2;
}

message Delete {
    bytes key = 1;
}

message WalEntry {
    EntryType marker = 1;
    oneof entry {
        Insert insertion = 2;
        Delete deletion = 3;
    }
}
